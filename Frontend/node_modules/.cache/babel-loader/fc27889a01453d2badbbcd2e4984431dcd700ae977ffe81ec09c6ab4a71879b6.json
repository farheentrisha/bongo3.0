{"ast":null,"code":"import _regeneratorRuntime from\"C:/bongo/Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/bongo/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/bongo/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useCallback}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./Signin.css\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signin=function Signin(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),phone=_useState2[0],setPhone=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPassword=_useState6[0],setShowPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),rememberMe=_useState8[0],setRememberMe=_useState8[1];// Function to handle sign-in\nvar onButtonSignInClick=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,adminDashboardUrl,formattedPhone;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('http://localhost:3001/login',{phone:phone,password:password});case 3:response=_context.sent;if(response.data.authenticated){// Save the phone number to local storage only if login is successful\n// Check if the user is an admin\nif(response.data.isAdmin){adminDashboardUrl=\"http://localhost:3030?token=\".concat(response.data.token);window.location.href=adminDashboardUrl;console.log(5);}else{navigate(\"/dashboard/ashol-dashboard\");// Redirect to regular user dashboard\nformattedPhone=phone.startsWith(\"88\")?phone:\"88\".concat(phone);localStorage.setItem(\"phone\",formattedPhone);localStorage.setItem(\"token\",response.data.token);// Store the token in local storage\n}}else{alert(\"Wrong password\");}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(\"Error signing in:\",_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);})),[phone,password,navigate]);var onButtonSignIn1Click=useCallback(function(){window.open(\"https://accounts.google.com/ServiceLogin?hl=en-GB\");},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"signin\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"frame\",children:/*#__PURE__*/_jsx(\"img\",{className:\"frame-item\",alt:\"\",src:\"/group-36638@2x.png\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"frame-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"frame1\",children:/*#__PURE__*/_jsx(\"b\",{className:\"welcome-back\",children:\"Welcome Back\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"frame-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"email\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-field\",value:phone,onChange:function onChange(e){return setPhone(e.target.value);},placeholder:\"Enter your phone no\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"password1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"frame-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"email-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"email\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\",className:\"input-field\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"Enter your password\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"frame-parent1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rectangle-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"frame-inner\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"remember-me-checkbox\",checked:rememberMe,onChange:function onChange(){return setRememberMe(!rememberMe);}})}),/*#__PURE__*/_jsx(\"label\",{className:\"remember-me-text\",children:\"Remember me\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"forgot-password\",children:\"Forgot Password\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-in-an-sign-up\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button-sign-in\",onClick:onButtonSignInClick,children:/*#__PURE__*/_jsx(\"div\",{className:\"sign-in\",children:\"Sign in\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"frame2\"}),/*#__PURE__*/_jsx(\"img\",{className:\"frame-icon\",alt:\"\",src:\"/frame-78.svg\"})]})]})]});};export default Signin;","map":{"version":3,"names":["React","useState","useCallback","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Signin","navigate","_useState","_useState2","_slicedToArray","phone","setPhone","_useState3","_useState4","password","setPassword","_useState5","_useState6","showPassword","setShowPassword","_useState7","_useState8","rememberMe","setRememberMe","onButtonSignInClick","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","adminDashboardUrl","formattedPhone","wrap","_callee$","_context","prev","next","post","sent","data","authenticated","isAdmin","concat","token","window","location","href","console","log","startsWith","localStorage","setItem","alert","t0","error","stop","onButtonSignIn1Click","open","className","children","alt","src","type","value","onChange","e","target","placeholder","checked","onClick"],"sources":["C:/bongo/Frontend/src/pages/Signin.js"],"sourcesContent":["import React, { useState, useCallback } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./Signin.css\";\r\nimport axios from 'axios';\r\n\r\nconst Signin = () => {\r\n  const navigate = useNavigate();\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [rememberMe, setRememberMe] = useState(false);\r\n\r\n  // Function to handle sign-in\r\n  const onButtonSignInClick = useCallback(async () => {\r\n    try {\r\n      const response = await axios.post('http://localhost:3001/login', {\r\n        phone,\r\n        password\r\n      });\r\n  \r\n      if (response.data.authenticated) {\r\n        // Save the phone number to local storage only if login is successful\r\n      \r\n        // Check if the user is an admin\r\n        if (response.data.isAdmin) {\r\n          const adminDashboardUrl = `http://localhost:3030?token=${response.data.token}`;\r\n          window.location.href = adminDashboardUrl;\r\n          console.log(5);\r\n        \r\n        } else {\r\n          navigate(\"/dashboard/ashol-dashboard\"); // Redirect to regular user dashboard\r\n          const formattedPhone = phone.startsWith(\"88\") ? phone : `88${phone}`;\r\n        localStorage.setItem(\"phone\", formattedPhone);\r\n        localStorage.setItem(\"token\", response.data.token); // Store the token in local storage\r\n  \r\n        }\r\n\r\n\r\n\r\n\r\n      } else {\r\n        alert(\"Wrong password\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error signing in:\", error);\r\n    }\r\n  }, [phone, password, navigate]);\r\n  \r\n\r\n  const onButtonSignIn1Click = useCallback(() => {\r\n    window.open(\"https://accounts.google.com/ServiceLogin?hl=en-GB\");\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"signin\">\r\n      <div className=\"frame\">\r\n        <img className=\"frame-item\" alt=\"\" src=\"/group-36638@2x.png\" />\r\n      </div>\r\n      <div className=\"frame-group\">\r\n        <div className=\"frame1\">\r\n          <b className=\"welcome-back\">Welcome Back</b>\r\n        </div>\r\n        <div className=\"form\">\r\n          <div className=\"frame-container\">\r\n            <div className=\"email-wrapper\">\r\n              <div className=\"email\">Phone</div>\r\n              <input\r\n                type=\"text\"\r\n                className=\"input-field\"\r\n                value={phone}\r\n                onChange={(e) => setPhone(e.target.value)}\r\n                placeholder=\"Enter your phone no\"\r\n              />\r\n            </div>\r\n            <div className=\"password1\">\r\n              <div className=\"frame-container\">\r\n                <div className=\"email-wrapper\">\r\n                  <div className=\"email\">Password</div>\r\n                  <input\r\n                    type={showPassword ? \"text\" : \"password\"}\r\n                    className=\"input-field\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    placeholder=\"Enter your password\"\r\n                  />\r\n                  \r\n                </div>\r\n              </div>\r\n              <div className=\"frame-parent1\">\r\n                <div className=\"rectangle-group\">\r\n                  <div className=\"frame-inner\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      className=\"remember-me-checkbox\"\r\n                      checked={rememberMe}\r\n                      onChange={() => setRememberMe(!rememberMe)}\r\n                    />\r\n                  </div>\r\n                  <label className=\"remember-me-text\">Remember me</label>\r\n                </div>\r\n                <div className=\"forgot-password\">Forgot Password</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"sign-in-an-sign-up\">\r\n              <div className=\"button-sign-in\" onClick={onButtonSignInClick}>\r\n                <div className=\"sign-in\">Sign in</div>\r\n              </div>\r\n              \r\n            </div>\r\n          </div>\r\n          <div className=\"frame2\" />\r\n          <img className=\"frame-icon\" alt=\"\" src=\"/frame-78.svg\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}